<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gaia Grid - Hermit's Grove</title>
  <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
  <style>
    /* Existing CSS (unchanged) */
    body {
      background: hsl(154 50% 5%);
      color: hsl(130, 84%, 70%);
      text-shadow: 0 0 2px hsl(130, 84%, 70%);
      font-family: 'VT323', monospace;
      font-size: 16px;
      margin: 0;
      padding: 0;
      overflow: hidden;
      text-align: center;
      white-space: pre-wrap;
      word-wrap: break-word;
      opacity: 0.9;
    }

    #ascii-banner {
      white-space: pre;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 15px;
      line-height: 1;
      z-index: 1;
      text-shadow: 0 0 10px hsla(130, 84%, 70%, 0.5);
    }

    #tap-button {
      background: transparent;
      border: 1px solid hsl(130, 84%, 70%);
      color: hsl(130, 84%, 70%);
      font-family: 'VT323', monospace;
      font-size: 1.3em;
      cursor: pointer;
      padding: 8px 16px;
      border-radius: 4px;
      transition: all 0.3s ease;
      text-shadow: 0 0 2px hsl(130, 84%, 70%);
      position: absolute;
      top: 20%;
      left: 50%;
      transform: translate(-50%, 0);
      z-index: 2;
      box-shadow: 0 0 4px hsla(130, 84%, 70%, 0.5);
    }

    #tap-button:hover {
      background: hsla(154, 50%, 10%, 0.8);
      text-shadow: 0 0 4px hsl(130, 84%, 70%);
      box-shadow: 0 0 8px hsla(130, 84%, 70%, 0.7);
    }

    #enter-button {
      background: transparent;
      border: 1px solid hsl(130, 84%, 70%);
      color: hsl(130, 84%, 70%);
      font-family: 'VT323', monospace;
      font-size: 1.2em;
      cursor: pointer;
      padding: 12px 24px;
      border-radius: 4px;
      transition: all 0.3s ease;
      text-shadow: 0 0 2px hsl(130, 84%, 70%);
      position: absolute;
      top: 75%;
      left: 50%;
      transform: translate(-50%, 0);
      z-index: 1;
      box-shadow: 0 0 4px hsla(130, 84%, 70%, 0.5);
    }

    #enter-button:hover {
      background: hsla(154, 50%, 10%, 0.8);
      text-shadow: 0 0 4px hsl(130, 84%, 70%);
      box-shadow: 0 0 8px hsla(130, 84%, 70%, 0.7);
    }

    #alternate-text {
      position: absolute;
      top: 85%;
      left: 50%;
      transform: translate(-50%, 0);
      color: hsl(130, 84%, 70%);
      font-family: 'VT323', monospace;
      font-size: 1.4em;
      text-shadow: 0 0 2px hsl(130, 84%, 70%);
      z-index: 1;
    }

    #universe-tagline {
      display: none;
      position: absolute;
      top: 49%;
      left: 50%;
      transform: translate(-50%, 0);
      color: hsl(130, 84%, 70%);
      font-family: 'VT323', monospace;
      font-size: 1.4em;
      text-shadow: 0 0 2px hsl(130, 84%, 70%);
      z-index: 1;
    }

    #home-screen {
      display: none;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 2;
    }

    #home-button {
      background: transparent;
      border: none;
      padding: 10px;
      color: hsl(130, 84%, 70%);
      font-family: 'VT323', monospace;
      font-size: 1.4em;
      cursor: pointer;
      transition: all 0.5s ease;
      text-shadow: 0 0 2px hsl(130, 84%, 70%);
    }

    #home-button:hover {
      text-shadow: 0 0 4px hsl(154 84% 70%);
    }

    #read-button {
      background: transparent;
      border: 1px solid hsl(130, 84%, 70%);
      color: hsl(130, 84%, 70%);
      font-family: 'VT323', monospace;
      font-size: 1.4em;
      cursor: pointer;
      margin: 20px;
      padding: 12px 24px;
      border-radius: 4px;
      transition: all 0.3s ease;
      text-shadow: 0 0 2px hsl(130, 84%, 70%);
    }

    #read-button:hover {
      background: hsla(154, 50%, 10%, 0.8);
      text-shadow: 0 0 4px hsl(154 84% 70%);
    }

    #back-button {
      display: none;
      position: fixed;
      top: 20px;
      left: 20px;
      font-size: 1.4em;
      cursor: pointer;
      z-index: 3;
      background: transparent;
      border: none;
      padding: 10px;
      color: hsl(130, 84%, 70%);
      transition: all 0.3s ease;
      font-family: 'VT323', monospace;
      text-shadow: 0 0 2px hsl(130, 84%, 70%);
    }

    #back-button:hover {
      text-shadow: 0 0 4px hsl(130, 84%, 70%);
    }

    #volume-button {
      position: fixed;
      top: 20px;
      right: 20px;
      background: transparent;
      border: 1px solid hsl(130, 84%, 70%);
      color: hsl(130, 84%, 70%);
      font-family: 'VT323', monospace;
      cursor: pointer;
      padding: 10px;
      font-size: 1.4em;
      border-radius: 4px;
      transition: all 0.3s ease;
      z-index: 10;
      text-shadow: 0 0 2px hsl(130, 84%, 70%);
    }

    #volume-button:hover {
      background: hsla(154, 50%, 10%, 0.8);
      text-shadow: 0 0 4px hsl(130, 84%, 70%);
    }

    .text-body {
      display: none;
      position: absolute;
      top: 0;
      left: 0;
      transform: none;
      width: calc(100% - 2in); /* full width minus 1in on each side */
      margin: 0 1in; /* 1 inch on both left and right */
      max-width: none;
      background: hsla(154, 50%, 5%, 0.95);
      padding: 20px;
      border-radius: 8px;
      z-index: 4;
      line-height: 1.8;
      font-size: 1.8em;
      overflow-y: auto;
      max-height: 100vh;
      color: hsl(130, 84%, 70%);
      font-family: 'VT323', monospace;
      text-shadow: 0 0 0px hsl(130, 84%, 70%);
      text-align: left; /* left align text */
    }

    .text-body p {
      position: relative;
    }

    .instagram-link {
      color: hsl(130, 84%, 70%);
      text-decoration: underline;
      transition: all 0.3s ease;
    }

    .instagram-link:hover {
      color: hsl(130, 84%, 85%);
      text-shadow: 0 0 4px hsl(130, 84%, 70%);
    }

    #flower-canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
    }

    @keyframes blink {
      to { visibility: hidden; }
    }

    @keyframes lines {
      0% { background-position: 0px 0px; }
      50% { background-position: 0px 0px; }
      51% { background-position: 0px 2px; }
      100% { background-position: 0px 2px; }
    }

    #glare {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: -1;
      background: radial-gradient(hsl(154 5% 15%) 0%, hsl(154 50% 5%) 70%);
    }

    #interlaced {
      position: fixed;
      background: repeating-linear-gradient(transparent 0px 1px, hsl(154 0% 0%/.3) 3px 4px);
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 10;
      pointer-events: none;
      animation: lines 0.066666666s linear infinite;
    }

    @media (max-width: 768px) {
      #ascii-banner {
        font-size: 10px;
      }

      #tap-button {
        font-size: 1.2em;
        padding: 6px 12px;
        top: 15%;
      }

      #enter-button {
        font-size: 1.3em;
        padding: 8px 16px;
        top: 75%;
      }

      #alternate-text {
        font-size: 1.2em;
        top: 82%;
      }

      #universe-tagline {
        font-size: 1.1em;
        top: 65%;
      }
      
      #back-button {
        z-index: 10;
    }

      #home-screen {
        top: 60%;
      }

      #read-button {
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        top: 70%;
      }

      .text-body {
        width: 90%;       /* Use nearly full width */
        margin: 0 auto;   /* Center with auto margins */
        left: 0;          /* Reset left offset */
        top: 0;           /* Adjust top if needed */
        padding: 15px;    /* Adjust padding if needed */
        font-size: 1.6em; /* Adjust text size */
        max-height: 90vh; /* Prevent text overflow */
        line-height: 1.6;
        text-align: left
  }
}

    /* New CSS for Art Section */
    .art-category {
      margin-bottom: 10px;
      text-align: left
    }

    .art-category h3 {
      cursor: pointer;
      padding: 10px;
      background: hsla(154, 50%, 10%, 0.8);
      border: 1px solid hsl(130, 84%, 70%);
      border-radius: 4px;
      transition: all 0.3s ease;
      font-size: 1.2em;
      text-align: left;
      margin: 0;
    }

    .art-category h3:hover {
      background: hsla(154, 50%, 15%, 0.8);
    }

    .art-category-content {
      display: none;
      padding: 10px;
      background: hsla(154, 50%, 5%, 0.95);
      border: 1px solid hsl(130, 84%, 70%);
      border-radius: 4px;
      text-align: left;
      margin-top: 5px;
    }

    .art-item {
      margin-bottom: 10px;
    }

    .art-item-header {
      cursor: pointer;
      padding: 8px;
      background: hsla(154, 50%, 10%, 0.8);
      border: 1px solid hsl(130, 84%, 70%);
      border-radius: 4px;
      transition: all 0.3s ease;
      font-size: 1em;
      text-align: left;
    }

    .art-item-header:hover {
      background: hsla(154, 50%, 15%, 0.8);
    }

    .art-item-content {
      display: none;
      padding: 10px;
      background: hsla(154, 50%, 5%, 0.95);
      border: 1px solid hsl(130, 84%, 70%);
      border-radius: 4px;
      margin-top: 5px;
      text-align: left
    }

    .art-item-content p {
      margin: 0;
    }
  </style>
</head>
<body>
  <canvas id="flower-canvas"></canvas>
  
  <button id="tap-button">Tap Here First</button>
  
  <pre id="ascii-banner">
  .-_'''-.      ____    .-./`)    ____     
 '_( )_   \   .'  __ `. \ .-.') .'  __ `.  
|(_ o _)|  ' /   '  \  \/ `-' \/   '  \  \ 
. (_,_)/___| |___|  /  | `-'`"`|___|  /  | 
|  |  .-----.   _.-`   | .---.    _.-`   | 
'  \  '-   .'.'   _    | |   | .'   _    | 
 \  `-'`   | |  _( )_  | |   | |  _( )_  | 
  \        / \ (_ o _) / |   | \ (_ o _) / 
   `'-...-'   '.(_,_).'  '---'  '.(_,_).'  
                                           

  .-_'''-.   .-------.   .-./`)  ______      
 '_( )_   \  |  _ _   \  \ .-.')|    _ `''.  
|(_ o _)|  ' | ( ' )  |  / `-' \| _ | ) _  \ 
. (_,_)/___| |(_ o _) /   `-'`"`|( ''_'  ) | 
|  |  .-----.| (_,_).' __ .---. | . (_) `. | 
'  \  '-   .'|  |\ \  |  ||   | |(_    ._) ' 
 \  `-'`   | |  | \ `'   /|   | |  (_.\.' /  
  \        / |  |  \    / |   | |       .'   
   `'-...-'  ''-'   `'-'  '---' '-----'`     
  </pre>

  <div id="universe-tagline">This is not a coincidence, the universe brought you here.</div>
  <button id="enter-button">Enter the Grid</button>
  <div id="alternate-text">or decide the fate of these dots with your cursor</div>
  <button id="volume-button">ðŸ”Š</button>
  <div id="back-button">â†© Back</div>
  
  <div id="home-screen">
    <button id="home-button">Know more</button>
    <button id="read-button" style="display: none;">Read</button>
  </div>

  <div id="hello-world-text" class="text-body">
    <p>
      Gaia Grid: The Land is the Canvas

This isnâ€™t a farm. This isnâ€™t a project. This isnâ€™t even about survival.

Gaia Grid is an artwork. A living, breathing, growing compositionâ€”where the medium is soil, water, and time. The brushstrokes? 800+ trees, shifting monsoons, hands in the dirt. The artist? Not one, but manyâ€”human, fungal, microbial, cosmic.

2016: A barren acre.
2024: A rewilded ecosystem, sculpted by intuition, sweat, and something close to faith.
No blueprint. No safety net. Just a questionâ€”what happens when you surrender to the land and let it shape you back?

This is climate art. Not framed, not static, not for sale. Itâ€™s raw, messy, alive. It asks you to participate. To plant. To build. To unmake the noise and remember how to listen.

How to be part of it?
â€” Get your hands dirty. Come plant, build, and co-create.
â€” Support the workâ€”tools, funds, connections.
â€” Dedicate a tree to someone. A living monument.
â€” Help take Indian climate art to the world.

This is not preservation. This is creation. The land remembers. The question isâ€”will we?


      This is not a coincidence. The universe brought you here.
      
      
      Contact if you're seeking:
      1. A Regenrative Climate Artist for your land
      2. A quiet place to meditate, in nature
      3. Collaboration in Regenrative Art
      
      <a href="https://www.instagram.com/gaiagrid" target="_blank" class="instagram-link">Contact</a>
    </p>
  </div>

  <!-- Art Section -->
  <div id="art-section" class="text-body" style="display: none;">
    <div class="art-container">
      <!-- Short Stories Dropdown -->
      <div class="art-category">
        <h3 onclick="toggleArtCategory(this)">Short Stories</h3>
        <div class="art-category-content">
          <div class="art-item">
            

      
    </div>
  </div>

  <div id="glare"></div>
  <div id="interlaced"></div>

  <script>
    // Existing JavaScript (unchanged)
    const canvas = document.getElementById('flower-canvas');
    const ctx = canvas.getContext('2d');
    let audioContext = null;
    let globalGain;
    let isMuted = false;
    let muteCollisionSounds = false;
    let pointerX = null;
    let pointerY = null;

    function initAudio() {
      if (!audioContext) {
        audioContext = new (window.AudioContext || window.webkitAudioContext)();
        globalGain = audioContext.createGain();
        globalGain.connect(audioContext.destination);
        globalGain.gain.setValueAtTime(isMuted ? 0 : 1, audioContext.currentTime);
      }
      if (audioContext.state === 'suspended') {
        audioContext.resume().then(() => {
          console.log('AudioContext resumed successfully');
        });
      }
    }

    const notes = [261.63, 293.66, 329.63, 349.23, 392.00, 440.00, 493.88];

    function createSound(frequency) {
      if (!audioContext) return;

      if (audioContext.state === 'suspended') {
        audioContext.resume();
      }

      const oscillator = audioContext.createOscillator();
      const gainNode = audioContext.createGain();

      oscillator.type = 'sine';
      oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);

      gainNode.gain.setValueAtTime(0.01, audioContext.currentTime);
      gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.3);

      oscillator.connect(gainNode);
      gainNode.connect(globalGain);

      oscillator.start();
      oscillator.stop(audioContext.currentTime + 0.9);
    }

    function playCollisionSound(point) {
      if (audioContext && !isOrb && !muteCollisionSounds && point.radiusMultiplier === 1 && audioUnlocked) {
        const note = notes[Math.floor(Math.random() * notes.length)];
        createSound(note);
      }
    }

    document.getElementById('volume-button').addEventListener('click', () => {
      if (!audioContext) {
        initAudio();
      }
      isMuted = !isMuted;
      const button = document.getElementById('volume-button');
      button.textContent = isMuted ? 'ðŸ”‡' : 'ðŸ”Š';
      if (globalGain) {
        globalGain.gain.setValueAtTime(isMuted ? 0 : 1, audioContext.currentTime);
      }
    });

    canvas.addEventListener('mousemove', (event) => {
      pointerX = event.clientX;
      pointerY = event.clientY;
    });

    canvas.addEventListener('touchstart', (event) => {
      event.preventDefault();
      const touch = event.touches[0];
      pointerX = touch.clientX;
      pointerY = touch.clientY;
      if (!audioContext) initAudio();
    });

    canvas.addEventListener('touchmove', (event) => {
      event.preventDefault();
      const touch = event.touches[0];
      pointerX = touch.clientX;
      pointerY = touch.clientY;
    });

    canvas.addEventListener('touchend', (event) => {
      pointerX = null;
      pointerY = null;
    });

    canvas.addEventListener('click', (event) => {
      const rect = canvas.getBoundingClientRect();
      const clickX = event.clientX - rect.left;
      const clickY = event.clientY - rect.top;

      points.forEach(point => {
        if (point.isClickable) {
          const dx = clickX - point.x;
          const dy = clickY - point.y;
          const distance = Math.sqrt(dx * dx + dy * dy);
          const effectiveRadius = isOrb ? 
            Math.max(5, Math.min(((point.radiusMultiplier * orbRadius * 2) / 2), 100)) : 
            dotRadius * point.radiusMultiplier;

          if (distance < effectiveRadius) {
            if (point.label === 'Art') {
                        window.location.href = 'art.html'; // Changed from showContent()
            } else {
              window.open(point.link, '_blank');
            }
          }
        }
      });
    });

    canvas.addEventListener('touchstart', (event) => {
      event.preventDefault();
      const rect = canvas.getBoundingClientRect();
      const touch = event.touches[0];
      const touchX = touch.clientX - rect.left;
      const touchY = touch.clientY - rect.top;

      points.forEach(point => {
        if (point.isClickable) {
          const dx = touchX - point.x;
          const dy = touchY - point.y;
          const distance = Math.sqrt(dx * dx + dy * dy);
          const effectiveRadius = isOrb ? 
            Math.max(5, Math.min(((point.radiusMultiplier * orbRadius * 2) / 2), 100)) : 
            dotRadius * point.radiusMultiplier;
            
          console.log(point.label, point.isClickable, distance, effectiveRadius); // Debugging

          if (distance < effectiveRadius) {
            if (point.label === 'Art') {
                        window.location.href = 'art.html'; // Changed from showContent()
            } else {
              window.open(point.link, '_blank');
            }
          }
        }
      });
    });

    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const dotRadius = 3;
    const repulsionRadius = 5;
    const repulsionStrength = 0.3;
    const subtleRepulsionRadius = 10; // Larger radius for subtle collisions
    const subtleRepulsionStrength = 0.02; // Very gentle repulsion
    const pointerInfluenceRadius = 100;
    const pointerInfluenceStrength = 0.2;
    let center = { x: canvas.width / 2, y: canvas.height / 2 };
    let points = [];
    let gridSize;
    let orbRadius;
    let rotationAngle = 0;
    let isOrb = false;
    let audioUnlocked = false;

    function initializePoints() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      center = { x: canvas.width / 2, y: canvas.height / 2 };

      gridSize = Math.min(canvas.width, canvas.height) * 0.08;
      const maxOrbDiameter = canvas.height - 192;
      orbRadius = window.innerWidth < 768 ? 
        Math.min(Math.min(canvas.width, canvas.height) * 0.1, maxOrbDiameter / 2) : 
        Math.min(Math.min(canvas.width, canvas.height) * 0.1, maxOrbDiameter / 2);

      points = [];
      const n = Math.floor((canvas.width / gridSize) * (canvas.height / gridSize));
      for (let i = 0; i < n; i++) {
        const phi = Math.acos(1 - 2 * (i + 0.5) / n);
        const theta = Math.PI * (3 - Math.sqrt(5)) * i;
        points.push({
          x: gridSize / 2 + (i % Math.floor(canvas.width / gridSize)) * gridSize,
          y: gridSize / 2 + Math.floor(i / Math.floor(canvas.width / gridSize)) * gridSize,
          vx: (Math.random() - 0.5) * 0.1,
          vy: (Math.random() - 0.5) * 0.1,
          lastCollision: Date.now(),
          color: `hsl(${Math.random() * 180}, 89%, 34%)`,
          theta,
          phi,
          radiusMultiplier: 1,
          orbVx: 0,
          orbVy: 0,
          isClickable: false
        });
      }

      const orbData = [
        { link: 'https://www.youtube.com/watch?v=oUp97TRml2M', label: 'Story' },
        { link: 'https://www.instagram.com/gaiagrid/', label: 'Community' },
        { link: 'https://www.youtube.com/watch?list=TLGGIM0baHi8ub8yMzAyMjAyNQ&time_continue=1&v=PZ-oHLvVUtk&embeds_referring_euri=https%3A%2F%2Fthegaiagrid.org%2F&source_ve_path=MjM4NTE', label: 'Dialogue' },
        { link: '/donate.html', label: 'Donate' },
        { link: 'https://www.youtube.com/watch?v=Vzw3O27cwrQ&list=TLGG7C1c52DqXCQyMzAyMjAyNQ', label: 'Transformation' },
        { link: 'art.html', label: 'Art' }  // Changed from '/art'
      ];

      const rogueCount = 6; // Increased to include the "Art" orb
      const rogueIndices = [];
      while (rogueIndices.length < rogueCount) {
        const idx = Math.floor(Math.random() * points.length);
        if (!rogueIndices.includes(idx)) {
          rogueIndices.push(idx);
          points[idx].radiusMultiplier = 1 + Math.random() * 0.5;
          points[idx].link = orbData[rogueIndices.length - 1].link;
          points[idx].label = orbData[rogueIndices.length - 1].label;
          points[idx].isClickable = true;
        }
      }
    }

    initializePoints();

    function animate() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      if (isOrb) {
        rotationAngle += 0.0001;
      }

      points.forEach((point, index) => {
        if (isOrb) {
          const effectiveRadius = orbRadius * point.radiusMultiplier;
          const thetaIncrement = point.radiusMultiplier > 0.01 ? 0.005 : 0.005;
          point.theta += thetaIncrement;
          
          const x3d = effectiveRadius * Math.sin(point.phi) * Math.cos(point.theta + rotationAngle);
          const y3d = effectiveRadius * Math.cos(point.phi);
          const z3d = effectiveRadius * Math.sin(point.phi) * Math.sin(point.theta + rotationAngle);

          const scale = 500 / (90 + z3d);
          const targetX = center.x + x3d * scale;
          const targetY = center.y + y3d * scale;

          point.x += (targetX - point.x) * 0.1;
          point.y += (targetY - point.y) * 0.1;

          point.orbVx = (targetX - point.x) * 0.05;
          point.orbVy = (targetY - point.y) * 0.05;

          let dotSize = dotRadius;
          if (point.radiusMultiplier > 1) {
            dotSize = 1 + ((z3d + effectiveRadius) / (2 * effectiveRadius)) * 89;
            dotSize = Math.max(5, Math.min(dotSize, 100));
          }

          ctx.fillStyle = point.color;
          ctx.beginPath();
          ctx.arc(point.x, point.y, dotSize, 0, Math.PI * 2);
          ctx.shadowBlur = 8;
          ctx.shadowColor = point.color;
          ctx.fill();

          if (point.isClickable && isOrb) {
            ctx.font = '20px VT323';
            ctx.fillStyle = 'black';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText(point.label, point.x, point.y);
          }
        } else {
          // Subtle repulsion between dots on landing screen
          points.forEach((otherPoint, otherIndex) => {
            if (index !== otherIndex) {
              const dx = otherPoint.x - point.x;
              const dy = otherPoint.y - point.y;
              const distance = Math.sqrt(dx * dx + dy * dy);
              const collisionRadius = dotRadius * 2 + 9; // Gentle collision distance
              const collisionStrength = 0.09; // Very subtle push

              if (distance < collisionRadius) {
                const force = (collisionRadius - distance) / collisionRadius * collisionStrength;
                point.vx -= (dx / distance) * force;
                point.vy -= (dy / distance) * force;
                otherPoint.vx += (dx / distance) * force;
                otherPoint.vy += (dy / distance) * force;
              }
            }
          });

          // Pointer influence
          if (pointerX !== null && pointerY !== null) {
            const dx = pointerX - point.x;
            const dy = pointerY - point.y;
            const distance = Math.sqrt(dx * dx + dy * dy);
            if (distance < pointerInfluenceRadius) {
              const force = (pointerInfluenceRadius - distance) / pointerInfluenceRadius * pointerInfluenceStrength;
              point.vx += (dx / distance) * force;
              point.vy += (dy / distance) * force;
            }
          }

          // Update position
          point.x += point.vx;
          point.y += point.vy;

          // Dampen velocity to prevent chaos
          point.vx *= 0.995;
          point.vy *= 0.995;

          // Boundary collision (with sound, unchanged)
          const now = Date.now();
          if (now - point.lastCollision > 200) {
            if (point.x < 0) {
              point.lastCollision = now;
              playCollisionSound(point);
              point.x = 0;
              point.vx *= -1;
            } else if (point.x > canvas.width) {
              point.lastCollision = now;
              playCollisionSound(point);
              point.x = canvas.width;
              point.vx *= -1;
            }
            if (point.y < 0) {
              point.lastCollision = now;
              playCollisionSound(point);
              point.y = 0;
              point.vy *= -1;
            } else if (point.y > canvas.height) {
              point.lastCollision = now;
              playCollisionSound(point);
              point.y = canvas.height;
              point.vy *= -1;
            }
          }

          // Draw dot
          ctx.fillStyle = point.color;
          ctx.beginPath();
          ctx.arc(point.x, point.y, dotRadius, 0, Math.PI * 2);
          ctx.shadowBlur = 9;
          ctx.shadowColor = point.color;
          ctx.fill();
        }
      });

      requestAnimationFrame(animate);
    }

    animate();

    const asciiBanner = document.getElementById('ascii-banner');
    const tapButton = document.getElementById('tap-button');
    const enterButton = document.getElementById('enter-button');
    const homeScreen = document.getElementById('home-screen');
    const backButton = document.getElementById('back-button');
    const readButton = document.getElementById('read-button');
    const homeButton = document.getElementById('home-button');
    const helloWorldText = document.getElementById('hello-world-text');
    const alternateText = document.getElementById('alternate-text');
    const universeTagline = document.getElementById('universe-tagline');
    const artStories = document.getElementById('art-section');

    tapButton.addEventListener('click', () => {
      initAudio();
      audioUnlocked = true;
      tapButton.style.display = 'none';
    });

    enterButton.addEventListener('click', () => {
      enterButton.style.display = 'none';
      alternateText.style.display = 'none';
      homeScreen.style.display = 'block';
      homeButton.style.display = 'block';
      backButton.style.display = 'block';
      universeTagline.style.display = 'block';
      isOrb = true;
      pointerX = null;
      pointerY = null;
    });

    homeScreen.style.position = 'absolute';
    homeScreen.style.top = '70%';
    homeScreen.style.left = '50%';
    homeScreen.style.transform = 'translate(-50%, 0)';

    homeButton.addEventListener('click', () => {
      readButton.style.display = 'block';
      helloWorldText.style.display = 'none';
      homeButton.style.display = 'none';
      isOrb = false;
      muteCollisionSounds = true;
      points.forEach(point => {
        point.vx = point.orbVx * 0.01;
        point.vy = point.orbVy * 0.01;
        point.lastCollision = Date.now();
      });
      setTimeout(() => {
        muteCollisionSounds = false;
      }, 500);
    });

    readButton.addEventListener('click', () => {
      helloWorldText.style.display = 'block';
      readButton.style.display = 'none';
      isOrb = true;
      pointerX = null;
      pointerY = null;
    });

    backButton.addEventListener('click', () => {
      if (helloWorldText.style.display === 'block') {
        homeScreen.style.display = 'block';
        homeButton.style.display = 'block';
        readButton.style.display = 'none';
        helloWorldText.style.display = 'none';
        isOrb = true;
        pointerX = null;
        pointerY = null;
      } else if (artStories.style.display === 'block') {
        artStories.style.display = 'none';
        homeScreen.style.display = 'block';
        homeButton.style.display = 'block';
        backButton.style.display = 'block';
        isOrb = true;
        pointerX = null;
        pointerY = null;
      } else if (homeScreen.style.display === 'block' && homeButton.style.display === 'block') {
        homeScreen.style.display = 'none';
        homeButton.style.display = 'none';
        backButton.style.display = 'none';
        enterButton.style.display = 'block';
        alternateText.style.display = 'block';
        universeTagline.style.display = 'none';
        isOrb = false;
        muteCollisionSounds = true;
        points.forEach(point => {
          point.vx = point.orbVx * 0.01;
          point.vy = point.orbVy * 0.01;
          point.lastCollision = Date.now();
        });
        setTimeout(() => {
          muteCollisionSounds = false;
        }, 500);
      }
    });

    window.addEventListener('resize', () => {
      initializePoints();
    });

    function showContent(sectionId) {
  const section = document.getElementById(sectionId);
  if (section) {
    section.style.display = 'block'; // Show the art section
    homeScreen.style.display = 'none'; // Hide the home screen
    homeButton.style.display = 'none'; // Hide the home button
    backButton.style.display = 'block'; // Show the back button
    isOrb = false; // Disable the orb animation
    muteCollisionSounds = true; // Mute collision sounds temporarily
    points.forEach(point => {
      point.vx = point.orbVx * 0.01; // Slow down the points
      point.vy = point.orbVy * 0.01;
      point.lastCollision = Date.now();
    });
    setTimeout(() => {
      muteCollisionSounds = false; // Unmute collision sounds after a delay
    }, 500);
  }
}

    // New JavaScript for Art Section
    function toggleArtCategory(header) {
      const content = header.nextElementSibling;
      const isExpanded = content.style.display === 'block';
      

      // Collapse all other dropdowns
      document.querySelectorAll('.art-category-content').forEach(item => {
        item.style.display = 'none';
      });

      // Expand the clicked dropdown if it was not already expanded
      if (!isExpanded) {
        content.style.display = 'block';
      }
    }

    function toggleArtItem(header) {
      const content = header.nextElementSibling;
      const isExpanded = content.style.display === 'block';

      // Collapse all other items within the same category
      header.parentElement.querySelectorAll('.art-item-content').forEach(item => {
        item.style.display = 'none';
      });

      // Expand the clicked item if it was not already expanded
      if (!isExpanded) {
        content.style.display = 'block';
      }
    }
  </script>
</body>
</html>